{"version":3,"file":"nl2000.js","sources":["../../src/convert.ts","../../src/scheme.ts","../../src/index.ts"],"sourcesContent":["export const fast = (fromRadix: number, toRadix: number, input: number[]) => {\n  const remainders = [], r = BigInt(fromRadix), R = BigInt(toRadix)\n  let z = BigInt(0)\n  for (const n of input) z = r * z + BigInt(n)\n  for (; z; z /= R) remainders.push(Number(z % R))\n  return remainders.reverse()\n}\n\nexport const slow = (fromRadix: number, toRadix: number, input: number[]) => {\n  const remainders = []\n  while (input.some(n => n > 0)) {\n    let remainder = 0\n    for (let i = 0; i < input.length; i++) {\n      const n = fromRadix * remainder + input[i]\n      input[i] = n / toRadix >>> 0 // integer division\n      remainder = n % toRadix\n    }\n    remainders.push(remainder)\n  }\n  return remainders.reverse()\n}\n\nexport const convert =\n  typeof BigInt === 'function'\n    ? fast\n    : slow\n","export const scheme = (range: number) =>\n  String.fromCharCode(...Array(range).keys())\n    .replace(/[^\\p{Nd}\\p{LC}]|[\\u0530-\\u1d6a\\u1fbe]/ug, '')\n","import { convert } from './convert'\nimport { scheme } from './scheme'\n\nexport const NL2000 = scheme(0x2000)\nexport const NL100  = scheme(0x100)\nexport const NL80   = scheme(0x80)\nexport const NL60   = scheme(0x60)\n\nexport const encode = (scheme: string | string[], input: Iterable<number>) =>\n  convert(0x100, scheme.length, [...input]).map(i => scheme[i]).join('')\n\nexport const decode = (scheme: string | string[], input: Iterable<string>) =>\n  convert(scheme.length, 0x100, [...input].map(c => scheme.indexOf(c)))\n"],"names":["scheme"],"mappings":";;;;;;EAAO,MAAM,IAAI,GAAG,CAAC,SAAiB,EAAE,OAAe,EAAE,KAAe;MACtE,MAAM,UAAU,GAAG,EAAE,EAAE,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,CAAA;MACjE,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAA;MACjB,KAAK,MAAM,CAAC,IAAI,KAAK;UAAE,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAA;MAC5C,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC;UAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA;MAChD,OAAO,UAAU,CAAC,OAAO,EAAE,CAAA;EAC7B,CAAC,CAAA;AAED,EAAO,MAAM,IAAI,GAAG,CAAC,SAAiB,EAAE,OAAe,EAAE,KAAe;MACtE,MAAM,UAAU,GAAG,EAAE,CAAA;MACrB,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;UAC7B,IAAI,SAAS,GAAG,CAAC,CAAA;UACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;cACrC,MAAM,CAAC,GAAG,SAAS,GAAG,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAA;cAC1C,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,OAAO,KAAK,CAAC,CAAA;cAC5B,SAAS,GAAG,CAAC,GAAG,OAAO,CAAA;WACxB;UACD,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;OAC3B;MACD,OAAO,UAAU,CAAC,OAAO,EAAE,CAAA;EAC7B,CAAC,CAAA;AAED,EAAO,MAAM,OAAO,GAClB,OAAO,MAAM,KAAK,UAAU;QACxB,IAAI;QACJ,IAAI,CAAA;;ECzBH,MAAM,MAAM,GAAG,CAAC,KAAa,KAClC,MAAM,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC;OACxC,OAAO,CAAC,yCAAyC,EAAE,EAAE,CAAC,CAAA;;QCC9C,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAA;AACpC,QAAa,KAAK,GAAI,MAAM,CAAC,KAAK,CAAC,CAAA;AACnC,QAAa,IAAI,GAAK,MAAM,CAAC,IAAI,CAAC,CAAA;AAClC,QAAa,IAAI,GAAK,MAAM,CAAC,IAAI,CAAC,CAAA;AAElC,QAAa,MAAM,GAAG,CAACA,SAAyB,EAAE,KAAuB,KACvE,OAAO,CAAC,KAAK,EAAEA,SAAM,CAAC,MAAM,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAIA,SAAM,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;AAExE,QAAa,MAAM,GAAG,CAACA,SAAyB,EAAE,KAAuB,KACvE,OAAO,CAACA,SAAM,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,IAAIA,SAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;"}